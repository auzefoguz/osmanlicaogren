<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Osmanlıca Dedektif Quiz - İnteraktif</title>
<style>
  body {
    font-family: 'Lateef', serif, Arial, sans-serif;
    background: #f4f4f0;
    color: #1a3b5d;
    margin: 0; padding: 0;
    display: flex;
    justify-content: center;
    min-height: 100vh;
    align-items: center;
  }
  main {
    max-width: 700px;
    background: white;
    border-radius: 12px;
    padding: 2rem;
    box-shadow: 0 0 25px rgba(0,0,0,0.15);
  }
  header {
    text-align: center;
    color: #c9a343;
    font-size: 2.2rem;
    margin-bottom: 1rem;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
  }
  #story {
    font-style: italic;
    color: #555;
    margin-bottom: 1.5rem;
    font-size: 1.2rem;
    min-height: 80px;
  }
  #question {
    font-size: 1.8rem;
    font-weight: 700;
    margin-bottom: 1rem;
    min-height: 70px;
  }
  ul.options {
    list-style: none;
    padding: 0;
    margin-bottom: 1rem;
  }
  ul.options li {
    background: #e9e7d9;
    margin-bottom: 0.8rem;
    padding: 1rem 1.2rem;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1.2rem;
    border: 2px solid transparent;
    transition: background-color 0.3s, border-color 0.3s;
    display: flex;
    align-items: center;
    gap: 0.7rem;
  }
  ul.options li:hover {
    background-color: #c9a343;
    color: white;
  }
  ul.options li.selected {
    background-color: #1a3b5d;
    color: #c9a343;
    font-weight: bold;
    border-color: #c9a343;
  }
  #feedback {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    font-weight: 600;
  }
  button {
    background-color: #1a3b5d;
    color: #c9a343;
    border: none;
    padding: 0.75rem 2rem;
    border-radius: 12px;
    font-size: 1.2rem;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  button:disabled {
    background-color: #ccc;
    cursor: default;
    color: #666;
  }
  button:hover:not(:disabled) {
    background-color: #c9a343;
    color: #1a3b5d;
  }
  #result {
    font-size: 1.6rem;
    text-align: center;
    font-weight: bold;
    margin-top: 2rem;
    color: #1a3b5d;
  }
  .icon {
    font-size: 1.6rem;
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Lateef&display=swap" rel="stylesheet" />
</head>
<body>
<main>
  <header>🕵️‍♂️ Osmanlıca Dedektif Quiz</header>
  <div id="story"></div>
  <div id="question"></div>
  <ul class="options" id="options"></ul>
  <div id="feedback"></div>
  <button id="next-btn" disabled>Devam Et</button>
  <div id="result"></div>
</main>

<script>
  const quizData = [
    {
      story: "📜 Eski bir Osmanlı arşivinde tozlu bir kutu açıldı. İçinden gizemli bir el yazması çıktı. İlk ipucumuz bu kelime: ‘اقمار’.",
      question: "Dedektif, bu kelimenin anlamı nedir?",
      options: [
        { text: "Yıldızlar", correct: false },
        { text: "Aylar", correct: true },
        { text: "Güneşler", correct: false },
        { text: "Dağlar", correct: false }
      ]
    },
    {
      story: "🕰️ El yazmasının ikinci sayfasında dikkatlice yazılmış şu kelime ortaya çıktı: ‘كتاب’. Bu kelime önemli bir sırrın anahtarı olabilir.",
      question: "Bu ipucunu çözersek, kelimenin anlamı nedir?",
      options: [
        { text: "Kitap", correct: true },
        { text: "Kalem", correct: false },
        { text: "Kâğıt", correct: false },
        { text: "Defter", correct: false }
      ]
    },
    {
      story: "✉️ Dedektif not defterinde eski bir mektupta 'سيف' kelimesi yazıyor. Bu kelime geçmişin sırlarını açığa çıkaracak önemli bir nesneyi anlatıyor olabilir.",
      question: "Bu gizemli kelimenin anlamı nedir?",
      options: [
        { text: "Kılıç", correct: true },
        { text: "At", correct: false },
        { text: "Kale", correct: false },
        { text: "Kale", correct: false }
      ]
    },
    {
      story: "📚 Arşivde bulduğun bir başka belgeye göre, ‘قلم’ kelimesi bir yazı aleti olarak geçiyor. Dedektiflik becerilerinle bu kelimenin ne anlama geldiğini bulmalısın.",
      question: "Bu kelime hangi eşyayı temsil ediyor?",
      options: [
        { text: "Mürekkep", correct: false },
        { text: "Kalem", correct: true },
        { text: "Yazı", correct: false },
        { text: "Kağıt", correct: false }
      ]
    },
    {
      story: "🏫 Son ipucu, bir tarihçinin not defterinde gizlenmiş: 'مدرسة'. Bu kelime önemli bir yerin adını gösteriyor olabilir.",
      question: "Dedektif olarak, bu kelimenin anlamı nedir?",
      options: [
        { text: "Okul", correct: true },
        { text: "Ev", correct: false },
        { text: "Kütüphane", correct: false },
        { text: "Müze", correct: false }
      ]
    }
  ];

  let currentIndex = 0;
  let score = 0;
  const storyEl = document.getElementById("story");
  const questionEl = document.getElementById("question");
  const optionsEl = document.getElementById("options");
  const feedbackEl = document.getElementById("feedback");
  const nextBtn = document.getElementById("next-btn");
  const resultEl = document.getElementById("result");

  function showQuestion() {
    feedbackEl.textContent = "";
    nextBtn.disabled = true;
    optionsEl.innerHTML = "";
    const current = quizData[currentIndex];
    storyEl.textContent = current.story;
    questionEl.textContent = current.question;

    current.options.forEach((opt, idx) => {
      const li = document.createElement("li");
      li.textContent = opt.text;
      li.classList.remove("selected");
      li.addEventListener("click", () => selectAnswer(li, opt));
      optionsEl.appendChild(li);
    });
  }

  function selectAnswer(li, option) {
    if (nextBtn.disabled === false) return; // Önceki seçim varsa iptal et
    [...optionsEl.children].forEach(li => li.classList.remove("selected"));
    li.classList.add("selected");

    if (option.correct) {
      feedbackEl.textContent = "✅ Doğru! İpucunu çözdün.";
      score++;
    } else {
      const correctOpt = quizData[currentIndex].options.find(o => o.correct);
      feedbackEl.textContent = `❌ Yanlış! Doğru cevap: "${correctOpt.text}"`;
    }

    // Seçenekleri kilitle
    [...optionsEl.children].forEach(li => li.style.pointerEvents = "none");
    nextBtn.disabled = false;
  }

  nextBtn.addEventListener("click", () => {
    currentIndex++;
    if (currentIndex < quizData.length) {
      showQuestion();
    } else {
      showResult();
    }
  });

  function showResult() {
    storyEl.style.display = "none";
    questionEl.style.display = "none";
    optionsEl.style.display = "none";
    feedbackEl.style.display = "none";
    nextBtn.style.display = "none";

    let message = `🕵️‍♂️ Dedektif raporu:\n\nToplam ${quizData.length} ipucundan ${score} tanesini çözdün!`;

    if(score === quizData.length){
      message += "\n\n🎉 Muhteşem! Tüm sırları çözdün ve büyük bir Osmanlıca dedektifi oldun!";
    } else if (score >= quizData.length / 2) {
      message += "\n\n👍 İyi iş çıkardın, bazı gizemler hala çözülmeyi bekliyor.";
    } else {
      message += "\n\n😕 Biraz daha pratik yapmalısın, Osmanlıca sırları zorlayıcı olabilir.";
    }

    resultEl.textContent = message;
  }

  // Başlangıç
  showQuestion();
</script>
</body>
</html>

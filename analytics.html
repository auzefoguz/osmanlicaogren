<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İstatistikler - Osmanlıca Öğren</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lateef&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="themes.css">
    <style>
        .stat-card {
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border: none;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #c9a343;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #1a3b5d;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .progress-osmanli {
            height: 12px;
            border-radius: 6px;
        }
        
        .progress-bar-osmanli {
            background-color: #c9a343;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            margin-bottom: 30px;
        }
        
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        
        .timeline-item {
            position: relative;
            padding-bottom: 20px;
        }
        
        .timeline-item:last-child {
            padding-bottom: 0;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -20px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #c9a343;
            border: 2px solid #1a3b5d;
        }
        
        .timeline-item::after {
            content: '';
            position: absolute;
            left: -15px;
            top: 17px;
            bottom: -5px;
            width: 2px;
            background-color: #dee2e6;
        }
        
        .timeline-item:last-child::after {
            display: none;
        }
        
        .timeline-date {
            font-weight: 600;
            color: #1a3b5d;
        }
        
        .timeline-content {
            background-color: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 5px;
        }
        
        .badge-stat {
            font-size: 0.8rem;
            padding: 5px 10px;
            border-radius: 10px;
        }
        
        .knowledge-level {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .knowledge-level-label {
            width: 120px;
            font-weight: 500;
        }
        
        .heatmap-day {
            width: 14px;
            height: 14px;
            margin: 2px;
            border-radius: 2px;
            background-color: #ebedf0;
        }
        
        .heatmap-day.active {
            background-color: #c9a343;
        }
        
        .heatmap-legend {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.7rem;
            color: #6c757d;
        }
        
        .word-cloud {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            padding: 15px;
        }
        
        .word-cloud-item {
            padding: 5px 10px;
            border-radius: 15px;
            background-color: #f1f1f1;
            color: #1a3b5d;
            transition: all 0.3s;
        }
        
        .word-cloud-item:hover {
            background-color: #c9a343;
            color: white;
            transform: scale(1.1);
        }
        
        .achievement-card {
            border-left: 4px solid #c9a343;
            transition: all 0.3s;
        }
        
        .achievement-card:hover {
            transform: translateX(5px);
        }
        
        .achievement-icon {
            font-size: 1.5rem;
            color: #c9a343;
        }
        
        .premium-stat {
            position: relative;
            overflow: hidden;
        }
        
        .premium-stat::after {
            content: 'PREMIUM';
            position: absolute;
            top: 10px;
            right: -25px;
            background-color: #ffc107;
            color: #212529;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 2px 25px;
            transform: rotate(45deg);
        }
    </style>
</head>
<body class="light-theme">
    <!-- Navbar (index.html'den aynen alındı) -->
    <nav class="navbar navbar-expand-md bg-osmanli-blue navbar-dark shadow-sm">
        <!-- Navbar içeriği buraya gelecek -->
    </nav>

    <div class="container py-4">
        <header class="text-center mb-4">
            <h1 class="osmanli-banner">
                <i class="bi bi-graph-up"></i> Öğrenme İstatistiklerim
            </h1>
            <p class="osmanli-slogan">Başarının haritası, sayılarla çizilir</p>
        </header>

        <!-- Genel İstatistikler -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-speedometer2"></i> Genel İstatistikler</h2>
            <div class="row g-4">
                <div class="col-md-3 col-6">
                    <div class="stat-card card text-center p-3">
                        <i class="bi bi-journal-bookmark stat-icon"></i>
                        <div class="stat-value" id="totalWords">0</div>
                        <div class="stat-label">Toplam Kelime</div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-card card text-center p-3">
                        <i class="bi bi-check-circle stat-icon"></i>
                        <div class="stat-value" id="knownWords">0</div>
                        <div class="stat-label">Bildiklerim</div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-card card text-center p-3">
                        <i class="bi bi-x-circle stat-icon"></i>
                        <div class="stat-value" id="unknownWords">0</div>
                        <div class="stat-label">Bilmediklerim</div>
                    </div>
                </div>
                <div class="col-md-3 col-6">
                    <div class="stat-card card text-center p-3">
                        <i class="bi bi-star stat-icon"></i>
                        <div class="stat-value" id="masteredWords">0</div>
                        <div class="stat-label">Uzmanlaştıklarım</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- İlerleme Grafiği -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-bar-chart-line"></i> İlerleme Grafiği</h2>
            <div class="card stat-card p-3">
                <div class="chart-container">
                    <canvas id="progressChart"></canvas>
                </div>
            </div>
        </section>

        <!-- Bilgi Seviyeleri -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-layers"></i> Bilgi Seviyeleri</h2>
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card stat-card h-100 p-3">
                        <h5 class="card-title"><i class="bi bi-pie-chart"></i> Kelime Dağılımı</h5>
                        <div class="chart-container">
                            <canvas id="knowledgeChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card stat-card h-100 p-3">
                        <h5 class="card-title"><i class="bi bi-speedometer"></i> Seviye Detayları</h5>
                        <div class="mt-3">
                            <div class="knowledge-level">
                                <span class="knowledge-level-label">Yeni Kelimeler</span>
                                <div class="progress flex-grow-1 progress-osmanli">
                                    <div class="progress-bar progress-bar-osmanli" role="progressbar" id="newWordsBar" style="width: 0%"></div>
                                </div>
                                <span class="ms-2" id="newWordsCount">0</span>
                            </div>
                            <div class="knowledge-level">
                                <span class="knowledge-level-label">Temel Bilgi</span>
                                <div class="progress flex-grow-1 progress-osmanli">
                                    <div class="progress-bar progress-bar-osmanli" role="progressbar" id="basicWordsBar" style="width: 0%"></div>
                                </div>
                                <span class="ms-2" id="basicWordsCount">0</span>
                            </div>
                            <div class="knowledge-level">
                                <span class="knowledge-level-label">Orta Seviye</span>
                                <div class="progress flex-grow-1 progress-osmanli">
                                    <div class="progress-bar progress-bar-osmanli" role="progressbar" id="intermediateWordsBar" style="width: 0%"></div>
                                </div>
                                <span class="ms-2" id="intermediateWordsCount">0</span>
                            </div>
                            <div class="knowledge-level">
                                <span class="knowledge-level-label">İleri Seviye</span>
                                <div class="progress flex-grow-1 progress-osmanli">
                                    <div class="progress-bar progress-bar-osmanli" role="progressbar" id="advancedWordsBar" style="width: 0%"></div>
                                </div>
                                <span class="ms-2" id="advancedWordsCount">0</span>
                            </div>
                            <div class="knowledge-level">
                                <span class="knowledge-level-label">Uzman Seviye</span>
                                <div class="progress flex-grow-1 progress-osmanli">
                                    <div class="progress-bar progress-bar-osmanli" role="progressbar" id="masteredWordsBar" style="width: 0%"></div>
                                </div>
                                <span class="ms-2" id="masteredWordsCount">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Aktivite Takvimi -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-calendar-heart"></i> Aktivite Takvimi</h2>
            <div class="card stat-card p-3">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="card-title mb-0">Çalışma Alışkanlıklarınız</h5>
                    <div>
                        <span class="badge bg-primary me-2" id="currentStreak">0 gün</span>
                        <span class="badge bg-success" id="longestStreak">0 gün</span>
                    </div>
                </div>
                <div class="heatmap-container d-flex flex-wrap justify-content-center">
                    <!-- Heatmap buraya JavaScript ile eklenecek -->
                </div>
                <div class="heatmap-legend">
                    <span>Az</span>
                    <span>Çok</span>
                </div>
            </div>
        </section>

        <!-- Kelime Bulutu -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-cloud"></i> Kelime Bulutu</h2>
            <div class="card stat-card p-3">
                <div class="word-cloud" id="wordCloud">
                    <!-- Kelime bulutu buraya JavaScript ile eklenecek -->
                </div>
            </div>
        </section>

        <!-- Başarımlar -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-trophy"></i> Başarımlar</h2>
            <div class="row g-3">
                <div class="col-md-4">
                    <div class="card achievement-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-award achievement-icon me-3"></i>
                                <div>
                                    <h5 class="card-title mb-1">İlk Adım</h5>
                                    <p class="card-text small text-muted">İlk kelimenizi öğrendiniz</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card achievement-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-lightning-charge achievement-icon me-3"></i>
                                <div>
                                    <h5 class="card-title mb-1">Hızlı Başlangıç</h5>
                                    <p class="card-text small text-muted">3 gün üst üste çalıştınız</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card achievement-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-book achievement-icon me-3"></i>
                                <div>
                                    <h5 class="card-title mb-1">Kelime Avcısı</h5>
                                    <p class="card-text small text-muted">50 kelime öğrendiniz</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card achievement-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-star achievement-icon me-3"></i>
                                <div>
                                    <h5 class="card-title mb-1">Uzmanlaşıyor</h5>
                                    <p class="card-text small text-muted">20 kelimeyi uzman seviyede biliyorsunuz</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card achievement-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-calendar-check achievement-icon me-3"></i>
                                <div>
                                    <h5 class="card-title mb-1">Düzenli Öğrenci</h5>
                                    <p class="card-text small text-muted">7 gün üst üste çalıştınız</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 premium-stat">
                    <div class="card achievement-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center">
                                <i class="bi bi-gem achievement-icon me-3"></i>
                                <div>
                                    <h5 class="card-title mb-1">Osmanlıca Sevdalısı</h5>
                                    <p class="card-text small text-muted">100 kelime öğrendiniz</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Son Çalışmalar -->
        <section class="mb-5">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-clock-history"></i> Son Çalışmalar</h2>
            <div class="card stat-card p-3">
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">Bugün - 15:30</div>
                        <div class="timeline-content">
                            <strong>20 kelime</strong> çalıştınız. <span class="badge bg-success badge-stat">18 doğru</span>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">Dün - 19:45</div>
                        <div class="timeline-content">
                            <strong>Quiz</strong> tamamladınız. <span class="badge bg-primary badge-stat">%85 başarı</span>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">3 gün önce - 08:15</div>
                        <div class="timeline-content">
                            <strong>Yeni liste</strong> eklediniz. <span class="badge bg-info badge-stat">25 kelime</span>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">1 hafta önce - 21:00</div>
                        <div class="timeline-content">
                            <strong>10 kelimeyi</strong> uzman seviyeye taşıdınız. <span class="badge bg-warning badge-stat">Tebrikler!</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Premium İstatistikler (Premium kullanıcılar için) -->
        <section class="mb-5 d-none" id="premiumStatsSection">
            <h2 class="mb-4 border-bottom pb-2"><i class="bi bi-stars"></i> Premium İstatistikler</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card stat-card p-3">
                        <h5 class="card-title"><i class="bi bi-graph-up-arrow"></i> Öğrenme Hızı</h5>
                        <div class="chart-container">
                            <canvas id="learningRateChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card stat-card p-3">
                        <h5 class="card-title"><i class="bi bi-hourglass-split"></i> Zaman Dağılımı</h5>
                        <div class="chart-container">
                            <canvas id="timeDistributionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="text-center py-2 border-top small">
            &copy; 2025 Osmanlıca Öğren | Tüm Hakları Saklıdır
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Örnek veriler ve grafiklerin oluşturulması
        document.addEventListener('DOMContentLoaded', function() {
            // Genel istatistikler
            document.getElementById('totalWords').textContent = '247';
            document.getElementById('knownWords').textContent = '189';
            document.getElementById('unknownWords').textContent = '58';
            document.getElementById('masteredWords').textContent = '72';
            
            // İlerleme çubuğu değerleri
            document.getElementById('newWordsCount').textContent = '58';
            document.getElementById('newWordsBar').style.width = '23%';
            document.getElementById('basicWordsCount').textContent = '67';
            document.getElementById('basicWordsBar').style.width = '27%';
            document.getElementById('intermediateWordsCount').textContent = '50';
            document.getElementById('intermediateWordsBar').style.width = '20%';
            document.getElementById('advancedWordsCount').textContent = '42';
            document.getElementById('advancedWordsBar').style.width = '17%';
            document.getElementById('masteredWordsCount').textContent = '72';
            document.getElementById('masteredWordsBar').style.width = '29%';
            
            // Streak bilgileri
            document.getElementById('currentStreak').textContent = '5 gün';
            document.getElementById('longestStreak').textContent = '12 gün';
            
            // Heatmap oluşturma
            const heatmapContainer = document.querySelector('.heatmap-container');
            for (let i = 0; i < 365; i++) {
                const day = document.createElement('div');
                day.className = 'heatmap-day';
                if (Math.random() > 0.6) day.classList.add('active');
                heatmapContainer.appendChild(day);
            }
            
            // Kelime bulutu oluşturma
            const wordCloud = document.getElementById('wordCloud');
            const words = [
                {text: "حكومت", size: 18},
                {text: "مكتب", size: 16},
                {text: "تاريخ", size: 15},
                {text: "علم", size: 14},
                {text: "دولت", size: 13},
                {text: "كتاب", size: 12},
                {text: "معلم", size: 11},
                {text: "طالب", size: 10},
                {text: "درس", size: 9},
                {text: "قلم", size: 8},
                {text: "ورقه", size: 7},
                {text: "صفحه", size: 6}
            ];
            
            words.forEach(word => {
                const wordElement = document.createElement('div');
                wordElement.className = 'word-cloud-item';
                wordElement.textContent = word.text;
                wordElement.style.fontSize = `${word.size}px`;
                wordCloud.appendChild(wordElement);
            });
            
            // Grafiklerin oluşturulması
            createProgressChart();
            createKnowledgeChart();
            
            // Premium kullanıcı kontrolü
            if (Math.random() > 0.7) {
                document.getElementById('premiumStatsSection').classList.remove('d-none');
                createLearningRateChart();
                createTimeDistributionChart();
            }
        });
        
        function createProgressChart() {
            const ctx = document.getElementById('progressChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Oca', 'Şub', 'Mar', 'Nis', 'May', 'Haz', 'Tem', 'Ağu', 'Eyl', 'Eki', 'Kas', 'Ara'],
                    datasets: [
                        {
                            label: 'Bilinen Kelimeler',
                            data: [10, 25, 42, 65, 89, 112, 130, 145, 160, 175, 189, 210],
                            borderColor: '#28a745',
                            backgroundColor: 'rgba(40, 167, 69, 0.1)',
                            fill: true,
                            tension: 0.3
                        },
                        {
                            label: 'Uzmanlaşılan Kelimeler',
                            data: [0, 5, 12, 25, 38, 50, 58, 62, 65, 68, 70, 72],
                            borderColor: '#ffc107',
                            backgroundColor: 'rgba(255, 193, 7, 0.1)',
                            fill: true,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
        
        function createKnowledgeChart() {
            const ctx = document.getElementById('knowledgeChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Yeni Kelimeler', 'Temel Bilgi', 'Orta Seviye', 'İleri Seviye', 'Uzman Seviye'],
                    datasets: [{
                        data: [58, 67, 50, 42, 72],
                        backgroundColor: [
                            '#6c757d',
                            '#17a2b8',
                            '#007bff',
                            '#6610f2',
                            '#ffc107'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }
        
        function createLearningRateChart() {
            const ctx = document.getElementById('learningRateChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Pzt', 'Sal', 'Çar', 'Per', 'Cum', 'Cmt', 'Paz'],
                    datasets: [{
                        label: 'Kelime/St',
                        data: [12, 19, 15, 20, 14, 25, 10],
                        backgroundColor: 'rgba(201, 163, 67, 0.7)',
                        borderColor: 'rgba(201, 163, 67, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }
        
        function createTimeDistributionChart() {
            const ctx = document.getElementById('timeDistributionChart').getContext('2d');
            new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: ['Sabah', 'Öğle', 'Akşam', 'Gece'],
                    datasets: [{
                        data: [15, 30, 40, 15],
                        backgroundColor: [
                            'rgba(108, 117, 125, 0.7)',
                            'rgba(23, 162, 184, 0.7)',
                            'rgba(201, 163, 67, 0.7)',
                            'rgba(102, 16, 242, 0.7)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true
                }
            });
        }
    </script>
<a href="index.html" class="btn btn-primary rounded-circle p-3 floating-home-btn">
    <i class="bi bi-house-door-fill"></i>
</a>

<style>
    .floating-home-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        width: 60px;
        height: 60px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .floating-home-btn i {
        font-size: 1.5rem;
    }
</style>
</body>
</html>

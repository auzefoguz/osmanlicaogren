<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Osmanlıca Öğren | Destek ve Katkı</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background: #f9fbff; }
    .hero { background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); color: white; padding: 60px 0; }
    .form-box { background: white; border-radius: 12px; box-shadow: 0 0 20px rgba(0,0,0,0.05); padding: 30px; margin-top: 40px; }
    .icon-circle { width: 60px; height: 60px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; }
  </style>
</head>
<body>

<!-- Hero Banner -->
<section class="hero text-center">
  <div class="container">
    <h1 class="display-4 fw-bold">Projemize Destek Olun</h1>
    <p class="lead">Osmanlıca Öğren uygulamasını birlikte geliştirelim ve daha fazla kişiye ulaştıralım.</p>
  </div>
</section>

<!-- Abone Ol ve Destek Formları -->
<section class="container py-5">
  <div class="row g-5">
    <!-- MailerLite Abone Kutusu -->
    <div class="col-md-6">
      <div class="form-box">
        <h4 class="mb-3"><i class="bi bi-envelope-paper-fill"></i> Bültene Abone Ol</h4>
        <form id="newsletter-form">
          <input type="email" name="email" class="form-control mb-3" placeholder="E-posta adresiniz" required>
          <button type="submit" class="btn btn-primary w-100">Abone Ol</button>
          <div id="ml-result" class="mt-2"></div>
        </form>
      </div>
    </div>

    <!-- EmailJS Destek Talep Formu -->
    <div class="col-md-6">
      <div class="form-box">
        <h4 class="mb-3"><i class="bi bi-question-circle-fill"></i> Destek Talep Formu</h4>
        <form id="support-form">
          <input type="text" id="name" name="name" class="form-control mb-3" placeholder="Adınız" required>
          <input type="email" id="email" name="email" class="form-control mb-3" placeholder="E-posta" required>
          <textarea id="message" name="message" class="form-control mb-3" rows="4" placeholder="Mesajınız" required></textarea>
          <button type="submit" class="btn btn-outline-primary w-100">Gönder</button>
          <div id="form-result" class="mt-2"></div>
        </form>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="text-center py-4 bg-light">
  <p class="mb-0">© 2025 Osmanlıca Öğren | Tüm Hakları Saklıdır. <br> <a href="mailto:ozzasci@gmail.com">ozzasci@gmail.com</a></p>
</footer>

<!-- MailerLite Script (Universal Embed) -->
<script>
  document.getElementById("newsletter-form").onsubmit = async function(e) {
    e.preventDefault();
    const email = this.email.value;
    const result = document.getElementById("ml-result");

    const response = await fetch("https://connect.mailerlite.com/api/subscribers", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI0IiwianRpIjoiYjliOGQzZjk2YTk2Y2ExNTZjNDlmNGE4MWQ4OGI5NGFiOWVjZGMyNjIxZTBmNDg2ZTE3ZmI4NDE1ODQ1NTQxMWRiZWU2YjY1Yjc3OGUyY2MiLCJpYXQiOjE3NTIzMDkyODQuMjA3Mjg1LCJuYmYiOjE3NTIzMDkyODQuMjA3Mjg3LCJleHAiOjQ5MDc5ODI4ODQuMjAzMzYsInN1YiI6IjE2NzA3MDgiLCJzY29wZXMiOltdfQ.JYTlZsc1wEmLve7_ZuroD8aOAYQE_N2z3sbv-jM-ZfBpK-yZNcWAcxiLoZxX8m3NdROijrcs6DAx-Zl4p0MOCXCOslFCkI-OY0ygItp_lCjH3HWLyOk5FRqBcz118wEYP_3CLX4U9pk-7SaIDavk1ZbfZ80p-9ZFsAVeCEwxWcZ14_7OvNpRoiBc9ccnaopSkWQffEXgfU0_27epR20WY20b7kcN7oykj0bIbBTZDImmY3b1AKSjP-VubMzQIEJUNFxK258J1DHkbr5mtbSxGIlNy83f5uZTwvZtyxsMZMefykZJ1lONfCxc4CH1pze5h9lQSVsApzHBjXdJ_ZHijMsg5zb5YtAs5ngWlpjzqUAf_eqxyokyETKXGLslfFA3uImAEB5CrPznJgyBowKuv4y6fVRulVQoibnfa9Dxl96zRuML8U93lpkQeCc-HdUXYfjq6F45wgL1ENZF2tBS_brLR938AMJbllZL0aWhzBrp4DK4aneKcCwYVgVLof2vhlJ46P4HCbuGTMXc8Jb9b12BY0bBE3109_qEu6Rcao08I3oUaM5G0EKZBDWe3KKDeoAroro4kllHxtZmKlpe4q3ED_vNPQcnt2OdFDeyJkjzLDOgjui-gFIB9pj_kTl4AwcMxWy46BsJ8r9EnPRCiIRflOkRzuze-usjvMLeVp8"
      },
      body: JSON.stringify({ email })
    });

    if (response.ok) {
      result.textContent = "Abone oldunuz! Teşekkürler.";
      result.className = "text-success";
      this.reset();
    } else {
      result.textContent = "Bir hata oluştu. Lütfen tekrar deneyin.";
      result.className = "text-danger";
    }
  };
</script>

<!-- EmailJS SDK -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  emailjs.init("8BdNp7u1PufddSEM8"); // Public key

  document.getElementById("support-form").addEventListener("submit", function (e) {
    e.preventDefault();
    const templateParams = {
      name: document.getElementById("name").value,
      osmanlicaogren: document.getElementById("email").value,
      message: document.getElementById("message").value,
      time: new Date().toLocaleString("tr-TR"),
    };

    emailjs.send("service_1avrv0q", "template_pc99ct6", templateParams)
      .then(() => {
        document.getElementById("form-result").textContent = "Mesajınız başarıyla gönderildi. Teşekkürler!";
        document.getElementById("form-result").className = "text-success";
        document.getElementById("support-form").reset();
      })
      .catch((error) => {
        document.getElementById("form-result").textContent = "Bir hata oluştu. Lütfen tekrar deneyin.";
        document.getElementById("form-result").className = "text-danger";
        console.error("EmailJS Hatası:", error);
      });
  });
</script>
</body>
</html>
